<h1>Рендеринг трехмерной сцены алгоритмом трассировки лучей</h1>
<p>Был разработан простенький графический движок польностью реализованный во фрагментном шейдере (в файле <a href="sources/main.cpp">main.cpp</a> только управление камерой). В этом варианте графического движка упор был сделан на приближение поведение "абстрактного" светового луча к реальному, т.е. упор на реалистичное освещение. Обычно в графических движках используется модель освещения Фонга, которая лишь имитирует реальное освещение с помощью расчета теней, рессеянного света и бликов. Приближение к реальному поведению светового луча достигается просчетом его отражений от поверхностей на сцене. Благодаря этому все затемнения, блики и прочие элементы освещения появляются сами собой естественным образом и выводит картинку на качественно другой уровень реалистичности, более того, алгоритм рейтрейсинга позволяет рендерить различные типы поверхностей, которые отличаются в зависимости от того, как от них отражается свет</p>
<h2>В программной реализации приведены несколько примеров работы алгоритма</h2>
<p>Открытая сцена с большим количеством света:</p>
<img src="demo/open_demo.gif" width=500px>
<p>Здесь источником света выступает небо. На сцене расположены 2 глянцевых шара (синий и красный) и матовая плоскость, на которой они "стоят". Большое количество света позволяет отобразить все детали достаточно реалестично. Шум в тенях от шаров на плоскасти возникает из-за некоторых технических моментов, о которых поговорим в следующем примере.</p>
<p>Закрытая сцена с точечным источником света</p>
<img src="demo/close_demo.gif" width=500px>
<p>На сцене расположены 2 зеркальных шара и матовая коробка. Источник света точечный, находящийся в закрытом пространстве. Даже в реальности на такой сцене будет очень мало света и нужно еще постараться, чтобы настроить фотоаппарат для приемлемого качества сьемки. В рейстрейсинге же все просто, на матрицу камеры попадает фиксированное кол-во световых лучей, т.е. всего один. Есть модификация этого алгоритма, в которой на каждый пиксель матрицы попадает большее кол-во лучей, из-за чего пропадает шум и картинка становится более четкой, но эта модификация не являлась целью программной реализации. Эта же проблема возникает даже на открытой сцене, показанной выше.</p>
<p>Закрытая сцена (сюрреалестичная)</p>
<img src="demo/sur_demo.gif" width=500px>
<p>Я установил для стен коробки следующие параметры: после n-го кол-во переотражений луч, попадая на стену коробки не продолжает отражатся, а возвращает цвет стены, таким образом получилась вот такая мультяшная картинка, в которой показано то, что на самом деле находилось на предыдущей сцене.</p>
<p>Разработка велась на языке С++ при использовании библиотеки двухмерной графики SFML.</p>
